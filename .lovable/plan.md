

## Plan: Implement Equipment Quote PDF Download

### Overview
Create a PDF generator for equipment quotes that matches the style of existing PDF generators in the codebase, then update the download button to use it.

---

### Changes Required

#### 1. Create New PDF Generator Utility

**New File: `src/utils/equipmentQuotePdf.ts`**

Create a PDF generator following the pattern of `buildingEstimatePdf.ts`:

```typescript
import jsPDF from 'jspdf';
import autoTable from 'jspdf-autotable';
import { EquipmentQuote } from '@/types/equipment';
import { SPORT_LABELS } from '@/components/home/SportIcons';

export function generateEquipmentQuotePDF(quote: EquipmentQuote) {
  const doc = new jsPDF();
  
  // Header with title
  // Sport and configuration summary box
  // Line items table by category using autoTable
  // Totals section
  // Disclaimer footer
  // Save with sport name in filename
  
  doc.save(`${SPORT_LABELS[quote.sport]}_Equipment_Quote.pdf`);
}
```

PDF will include:
- **Header**: "Equipment Quote" title with generation date
- **Summary Box**: Sport, number of lanes/courts, size dimensions, space tier
- **Itemized Table**: All line items grouped by category with quantity, unit cost, total
- **Totals Section**: Equipment & materials subtotal, installation estimate, grand total
- **Footer**: Disclaimer and "Generated by SportsFacility.ai" branding

---

#### 2. Update Download Handler

**File: `src/components/equipment/EquipmentQuote.tsx`**

**A) Add import for the PDF generator:**
```typescript
import { generateEquipmentQuotePDF } from '@/utils/equipmentQuotePdf';
```

**B) Update `handleDownload` function (lines 66-72):**
```typescript
const handleDownload = () => {
  track('equipment_quote_downloaded', { 
    sport: quote.sport,
    total: quote.totals.grandTotal 
  });
  generateEquipmentQuotePDF(quote);
  toast.success("Quote downloaded!");
};
```

---

### PDF Layout Preview

```text
+------------------------------------------+
|         EQUIPMENT QUOTE                  |
|         Baseball / Softball              |
|         Generated: January 26, 2026      |
+------------------------------------------+
|  Configuration Summary                   |
|  ┌────────────────────────────────────┐  |
|  │ Lanes: 4      Lane Size: 70' x 15' │  |
|  │ Space: Medium  Total SF: 4,800     │  |
|  └────────────────────────────────────┘  |
+------------------------------------------+
|  Item          | Qty | Unit   | Total    |
|  ───────────────────────────────────────  |
|  Core Equipment                          |
|  Batting Cage  |  4  | $8,500 | $34,000  |
|  Pitching...   |  4  | $2,500 | $10,000  |
|  ...                                     |
|  ───────────────────────────────────────  |
|  Flooring & Surfaces                     |
|  Artificial... | 4800| $5     | $24,000  |
|  ───────────────────────────────────────  |
|                                          |
|  Equipment & Materials:        $XX,XXX   |
|  Installation (est.):          $XX,XXX   |
|  ─────────────────────────────────────── |
|  TOTAL:                        $XX,XXX   |
+------------------------------------------+
|  * Estimates only. Final pricing varies. |
|  Generated by SportsFacility.ai          |
+------------------------------------------+
```

---

### Files to Create/Modify
1. **NEW**: `src/utils/equipmentQuotePdf.ts` - PDF generation utility
2. **EDIT**: `src/components/equipment/EquipmentQuote.tsx` - Import and call PDF generator

---

### Technical Notes
- Uses existing `jspdf` and `jspdf-autotable` dependencies (already installed)
- Follows same styling patterns as `buildingEstimatePdf.ts`
- Dynamic content based on sport (lanes vs courts, dimensions)
- Filename includes sport name for easy identification

